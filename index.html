<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>موقع اقتراح الأفلام بالذكاء الاصطناعي</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo&display=swap');

  body {
    margin: 0;
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #141e30, #243b55);
    color: #f0f0f0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 25px;
  }
  header {
    text-align: center;
    margin-bottom: 25px;
  }
  header h1 {
    font-size: 2.4rem;
    margin-bottom: 8px;
    color: #ffdd00;
    text-shadow: 0 0 15px #ffdd0099;
  }
  header p {
    font-size: 1.2rem;
    font-weight: bold;
    color: #ffaa00cc;
    letter-spacing: 0.15em;
    user-select: none;
  }
  form {
    background: rgba(255 255 255 / 0.1);
    padding: 25px;
    border-radius: 15px;
    max-width: 600px;
    width: 100%;
    box-shadow: 0 0 20px #ffaa0099;
  }
  label {
    display: block;
    margin-bottom: 10px;
    font-weight: 700;
    font-size: 1.1rem;
  }
  textarea {
    width: 100%;
    height: 90px;
    padding: 12px;
    border-radius: 10px;
    border: none;
    resize: vertical;
    font-size: 1rem;
    margin-bottom: 20px;
    font-family: 'Cairo', sans-serif;
  }
  select {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: none;
    font-size: 1.1rem;
    margin-bottom: 25px;
    cursor: pointer;
  }
  button {
    width: 100%;
    padding: 14px;
    background: #ffaa00;
    border: none;
    border-radius: 12px;
    font-weight: 800;
    font-size: 1.2rem;
    cursor: pointer;
    color: #222;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #ffcc33;
  }
  .results {
    margin-top: 30px;
    display: flex;
    flex-wrap: wrap;
    gap: 22px;
    justify-content: center;
    max-width: 900px;
  }
  .movie-card {
    background: rgba(255 255 255 / 0.1);
    border-radius: 14px;
    overflow: hidden;
    width: 180px;
    box-shadow: 0 0 12px #ffaa0099;
    transition: transform 0.3s ease;
  }
  .movie-card:hover {
    transform: scale(1.07);
  }
  .movie-card img {
    width: 100%;
    display: block;
  }
  .movie-info {
    padding: 12px 10px;
    text-align: center;
  }
  .movie-info h3 {
    font-size: 1.15rem;
    margin: 0 0 6px;
    color: #ffdd00;
    min-height: 44px;
  }
  .movie-info p {
    font-size: 0.9rem;
    color: #eee;
    min-height: 54px;
  }
  /* Responsive */
  @media (max-width: 500px) {
    .movie-card {
      width: 45vw;
    }
    form {
      padding: 15px;
    }
  }
</style>
</head>
<body>

<header>
  <h1>مرحباً بك في موقع اقتراح الأفلام</h1>
  <p>عندي ليك افضل املو دلكركاع الرابعة بتمنمية دريال الاخ بورحيم</p>
</header>

<form id="movieForm" autocomplete="off">
  <label for="description">صف وصف الفيلم الذي تريد مشاهدته (مثلاً: قصة معقدة، مغامرة، خيانة، أكشن، رومانسية ...):</label>
  <textarea id="description" placeholder="اكتب وصفك هنا..." required></textarea>

  <label for="genre">اختر نوع الفيلم:</label>
  <select id="genre" required>
    <option value="">-- اختر نوع الفيلم --</option>
    <option value="sci-fi">خيال علمي</option>
    <option value="betrayal">خيانة</option>
    <option value="action">أكشن</option>
    <option value="romance">رومانسية</option>
    <option value="drama">دراما</option>
    <option value="horror">رعب</option>
    <option value="comedy">كوميدي</option>
    <option value="fantasy">فانتازيا</option>
    <option value="thriller">إثارة</option>
    <option value="adventure">مغامرة</option>
    <option value="mystery">غموض</option>
    <option value="animation">رسوم متحركة</option>
    <option value="documentary">وثائقي</option>
  </select>

  <button type="submit">اقترح لي الأفلام</button>
</form>

<div class="results" id="results"></div>

<script>
  const movies = [
    {
      title: "Inception",
      genres: ["sci-fi", "thriller", "mystery"],
      description: "رحلة في عالم الأحلام مع قصة معقدة وخيانة",
      image: "https://m.media-amazon.com/images/I/51v5ZpFyaFL._AC_SY679_.jpg"
    },
    {
      title: "Interstellar",
      genres: ["sci-fi", "drama", "adventure"],
      description: "رحلة فضائية لإنقاذ البشرية مع تفاصيل علمية عميقة",
      image: "https://m.media-amazon.com/images/I/71niXI3lxlL._AC_SY679_.jpg"
    },
    {
      title: "The Prestige",
      genres: ["betrayal", "drama", "mystery"],
      description: "صراع بين ساحرين مليء بالخيانة والغموض",
      image: "https://m.media-amazon.com/images/I/51uZMJwW4JL._AC_SY679_.jpg"
    },
    {
      title: "Gone Girl",
      genres: ["betrayal", "thriller", "mystery"],
      description: "قصة خيانة وزواج مليئة بالأحداث المفاجئة",
      image: "https://m.media-amazon.com/images/I/51v5ZpFyaFL._AC_SY679_.jpg"
    },
    {
      title: "Blade Runner 2049",
      genres: ["sci-fi", "drama", "thriller"],
      description: "مستقبل مظلم مع خيانة وصراعات بين البشر والآلات",
      image: "https://m.media-amazon.com/images/I/71pHCWnj5QL._AC_SY679_.jpg"
    },
    {
      title: "The Departed",
      genres: ["betrayal", "drama", "thriller"],
      description: "قصة جريمة وخيانة في عالم المافيا",
      image: "https://m.media-amazon.com/images/I/51gExxlNlgL._AC_SY679_.jpg"
    },
    {
      title: "The Matrix",
      genres: ["sci-fi", "action", "thriller"],
      description: "مقاتل يحاول كشف الحقيقة في عالم افتراضي",
      image: "https://m.media-amazon.com/images/I/51vpnbwFHrL._AC_SY679_.jpg"
    },
    {
      title: "Mad Max: Fury Road",
      genres: ["action", "adventure", "sci-fi"],
      description: "رحلة ملحمية في عالم ما بعد الكارثة مع الكثير من الأكشن",
      image: "https://m.media-amazon.com/images/I/81n6tU95VPL._AC_SY679_.jpg"
    },
    {
      title: "Her",
      genres: ["romance", "sci-fi", "drama"],
      description: "رجل يقع في حب نظام تشغيل ذكي للغاية",
      image: "https://m.media-amazon.com/images/I/71K6TnD6ufL._AC_SY679_.jpg"
    },
    {
      title: "Parasite",
      genres: ["drama", "thriller", "betrayal"],
      description: "دراما اجتماعية عن طبقات المجتمع مع خيانة غير متوقعة",
      image: "https://m.media-amazon.com/images/I/91Uk8Pi1mvL._AC_SY679_.jpg"
    }
  ];

  // دالة بسيطة لتحليل النص: تقسيم الكلمات، إزالة الكلمات القصيرة، وتحويلها لمجموعة
  function extractKeywords(text) {
    return text
      .toLowerCase()
      .replace(/[.,!؟]/g, '')
      .split(/\s+/)
      .filter(word => word.length > 2);
  }

  const form = document.getElementById('movieForm');
  const resultsDiv = document.getElementById('results');

  form.addEventListener('submit', e => {
    e.preventDefault();
    resultsDiv.innerHTML = '';

    const desc = document.getElementById('description').value.trim();
    const genre = document.getElementById('genre').value;

    if (!desc || !genre) {
      alert('يرجى كتابة الوصف واختيار النوع!');
      return;
    }

    const keywords = extractKeywords(desc);

    // خوارزمية ذكاء اصطناعي مبسطة: حساب مدى تطابق الكلمات المفتاحية في الوصف مع وصف الفيلم
    function scoreMovie(movie) {
      let score = 0;

      // زيادة نقاط إذا النوع موجود في الأنواع
      if (movie.genres.includes(genre)) score += 3;

      // كلمات مفتاحية موجودة في الوصف
      const movieDescWords = extractKeywords(movie.description);

      keywords.forEach(k => {
        if (movieDescWords.includes(k)) score += 2;
        if (movie.title.toLowerCase().includes(k)) score += 1;
      });

      return score;
    }

    const scoredMovies = movies
      .map(movie => ({ movie, score: scoreMovie(movie) }))
      .filter(m => m.score > 0)
      .sort((a, b) => b.score - a.score);

    if (scoredMovies.length === 0) {
      resultsDiv.innerHTML = `<p style="color:#ffaa00; font-weight:bold; font-size:1.1rem;">عذرًا، لم نعثر على أفلام تطابق وصفك.</p>`;
      return;
    }

    // عرض النتائج
    scoredMovies.forEach(({ movie }) => {
      const card = document.createElement('div');
      card.className = 'movie-card';
      card.innerHTML = `
        <img src="${movie.image}" alt="غلاف ${movie.title}" />
        <div class="movie-info">
          <h3>${movie.title}</h3>
          <p>${movie.description}</p>
        </div>
      `;
      resultsDiv.appendChild(card);
    });
  });
</script>

</body>
</html>
